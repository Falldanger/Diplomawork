!function(t){var d=[],e=[],n=[],s=[],a=[],o=[],c=[],r=[],p=[],u=[],l=[],h="coinsliderUniqueID",f=0;t.fn.coinslider=t.fn.CoinSlider=function(v){var g=function(i){var n,a,o=parseInt(d[i.id].width/d[i.id].spw),c=o,r=parseInt(d[i.id].height/d[i.id].sph),p=r,u=0,l=0,h=0,f=d[i.id].width-d[i.id].spw*c,v=f,g=d[i.id].height-d[i.id].sph*p,w=g;for(n=1;n<=d[i.id].sph;n++){for(v=f,w>0?(w--,p=r+1):p=r,a=1;a<=d[i.id].spw;a++)v>0?(v--,c=o+1):c=o,e[i.id][u]=n+""+a,u++,d[i.id].links?t("#"+i.id).append("<a href='"+s[i.id][0]+"' class='cs-"+i.id+"' id='cs-"+i.id+n+a+"' style='width:"+c+"px; height:"+p+"px; float: left; position: absolute;'></a>"):t("#"+i.id).append("<div class='cs-"+i.id+"' id='cs-"+i.id+n+a+"' style='width:"+c+"px; height:"+p+"px; float: left; position: absolute;'></div>"),t("#cs-"+i.id+n+a).css({"background-position":-l+"px "+(-h+"px"),left:l,top:h}),l+=c;h+=p,l=0}d[i.id].navigationPrevNextAlwaysShown||(t(".cs-"+i.id).mouseover(function(){t("#cs-navigation-"+i.id).show()}),t(".cs-"+i.id).mouseout(function(){t("#cs-navigation-"+i.id).hide()}),t("#cs-title-"+i.id).mouseover(function(){t("#cs-navigation-"+i.id).show()}),t("#cs-title-"+i.id).mouseout(function(){t("#cs-navigation-"+i.id).hide()})),d[i.id].hoverPause&&(t(".cs-"+i.id).mouseover(function(){d[i.id].pause=!0}),t(".cs-"+i.id).mouseout(function(){d[i.id].pause=!1}),t("#cs-title-"+i.id).mouseover(function(){d[i.id].pause=!0}),t("#cs-title-"+i.id).mouseout(function(){d[i.id].pause=!1}))},w=function(i){if(d[i.id].autoplay===!0){clearInterval(c[i.id]);var t=d[i.id].delay+d[i.id].spw*d[i.id].sph*d[i.id].sDelay;c[i.id]=setInterval(function(){x(i)},t)}},x=function(i,s){d[i.id].pause!==!0&&(y(i),u[i.id]=0,p[i.id]=setInterval(function(){b(i,e[i.id][u[i.id]])},d[i.id].sDelay),t(i).css({"background-image":'url("'+n[i.id][r[i.id]]+'")'}),"undefined"==typeof s?r[i.id]++:"prev"==s?r[i.id]--:r[i.id]=s,r[i.id]==n[i.id].length&&(r[i.id]=0),r[i.id]==-1&&(r[i.id]=n[i.id].length-1),t(".cs-button-"+i.id).removeClass("cs-active"),t("#cs-button-"+i.id+"-"+(r[i.id]+1)).addClass("cs-active"),o[i.id][r[i.id]]?(t("#cs-title-"+i.id).css({opacity:0}).animate({opacity:d[i.id].opacity},d[i.id].titleSpeed),t("#cs-title-"+i.id).html(o[i.id][r[i.id]])):t("#cs-title-"+i.id).css("opacity",0))},b=function(i,e){return t(".cs-"+i.id).attr("href",s[i.id][r[i.id]]).attr("target",a[i.id][r[i.id]]),u[i.id]==d[i.id].spw*d[i.id].sph?void clearInterval(p[i.id]):(t("#cs-"+i.id+e).css({opacity:0,"background-image":'url("'+n[i.id][r[i.id]]+'")'}),t("#cs-"+i.id+e).animate({opacity:1},300),void u[i.id]++)},m=function(i){if(d[i.id].showNavigationPrevNext&&(t(i).append("<div id='cs-navigation-"+i.id+"'></div>"),d[i.id].navigationPrevNextAlwaysShown||t("#cs-navigation-"+i.id).hide(),t("#cs-navigation-"+i.id).append("<a href='#' id='cs-prev-"+i.id+"' class='cs-prev'>"+d[i.id].prevText+"</a>"),t("#cs-navigation-"+i.id).append("<a href='#' id='cs-next-"+i.id+"' class='cs-next'>"+d[i.id].nextText+"</a>"),t("#cs-prev-"+i.id).css({position:"absolute",top:d[i.id].height/2-15,left:0,"z-index":1001,"line-height":"30px",opacity:d[i.id].opacity}).click(function(t){t.preventDefault(),x(i,"prev"),w(i)}).mouseover(function(){t("#cs-navigation-"+i.id).show()}),t("#cs-next-"+i.id).css({position:"absolute",top:d[i.id].height/2-15,right:0,"z-index":1001,"line-height":"30px",opacity:d[i.id].opacity}).click(function(t){t.preventDefault(),x(i),w(i)}).mouseover(function(){t("#cs-navigation-"+i.id).show()}),t("#cs-navigation-"+i.id+" a").mouseout(function(){d[i.id].navigationPrevNextAlwaysShown||t("#cs-navigation-"+i.id).hide(),d[i.id].pause=!1})),d[i.id].showNavigationButtons){t("<div id='cs-buttons-"+i.id+"' class='cs-buttons'></div>").appendTo(t("#coin-slider-"+i.id));var e;for(e=1;e<n[i.id].length+1;e++)t("#cs-buttons-"+i.id).append("<a href='#' class='cs-button-"+i.id+"' id='cs-button-"+i.id+"-"+e+"'>"+e+"</a>");t.each(t(".cs-button-"+i.id),function(d,e){t(e).click(function(e){t(".cs-button-"+i.id).removeClass("cs-active"),t(this).addClass("cs-active"),e.preventDefault(),x(i,d),w(i)})}),t("#cs-buttons-"+i.id).css({left:"50%","margin-left":15*-n[i.id].length/2-5,position:"relative"})}},y=function(i){var t,n,s,a,o=["random","swirl","rain","straight"];if(a=""===d[i.id].effect?o[Math.floor(Math.random()*o.length)]:d[i.id].effect,e[i.id]=[],"random"==a){for(s=0,t=1;t<=d[i.id].sph;t++)for(n=1;n<=d[i.id].spw;n++)e[i.id][s]=t+""+n,s++;k(e[i.id])}"rain"==a&&I(i),"swirl"==a&&N(i),"straight"==a&&P(i),l[i.id]*=-1,l[i.id]>0&&e[i.id].reverse()},k=function(i){var t,d,e,n=i.length;if(0===n)return!1;for(;--n;)t=Math.floor(Math.random()*(n+1)),d=i[n],e=i[t],i[n]=e,i[t]=d},N=function(i){for(var t,n,s=d[i.id].sph,a=d[i.id].spw,o=1,c=1,r=0,p=0,u=0,l=!0;l;){for(p=0===r||2===r?a:s,n=1;n<=p;n++)if(e[i.id][u]=o+""+c,u++,n!=p)switch(r){case 0:c++;break;case 1:o++;break;case 2:c--;break;case 3:o--}switch(r=(r+1)%4){case 0:a--,c++;break;case 1:s--,o++;break;case 2:a--,c--;break;case 3:s--,o--}t=S(s,a)-D(s,a),a<=t&&s<=t&&(l=!1)}},I=function(t){for(var n=d[t.id].sph,s=d[t.id].spw,a=0,o=1,c=1,r=1,p=!0;p;){for(i=r;i<=o;i++)e[t.id][a]=i+""+parseInt(c-i+1),a++;c++,o<n&&c<s&&n<s&&o++,o<n&&n>=s&&o++,c>s&&r++,r>o&&(p=!1)}},P=function(i){var t,n,s=0;for(t=1;t<=d[i.id].sph;t++)for(n=1;n<=d[i.id].spw;n++)e[i.id][s]=t+""+n,s++},D=function(i,t){return i>t?t:i},S=function(i,t){return i<t?t:i},C=function(i){""===i.id&&(i.id=h+f++),e[i.id]=[],n[i.id]=[],s[i.id]=[],a[i.id]=[],o[i.id]=[],r[i.id]=0,u[i.id]=0,l[i.id]=1,d[i.id]=t.extend({},t.fn.coinslider.defaults,v),t.each(t("#"+i.id+" img"),function(d,e){n[i.id][d]=t(e).attr("src")||e.src,s[i.id][d]=t(e).parent().is("a")?t(e).parent().attr("href"):"",a[i.id][d]=t(e).parent().is("a")?t(e).parent().attr("target"):"",o[i.id][d]=t(e).next().is("span")?t(e).next().html():"",t(e).hide(),t(e).next().hide()}),t(i).css({"background-image":'url("'+n[i.id][0]+'")',width:d[i.id].width,height:d[i.id].height,position:"relative","background-position":"top left"}).wrap("<div class='coin-slider' id='coin-slider-"+i.id+"' />"),t("#"+i.id).append("<div class='cs-title' id='cs-title-"+i.id+"' style='position: absolute; bottom:0; left: 0; z-index: 1000;'></div>"),g(i),d[i.id].navigation&&m(i),x(i,0),w(i)};this.each(function(){C(this)})},t.fn.coinslider.defaults={width:565,height:290,spw:7,sph:5,delay:3e3,sDelay:30,opacity:.7,titleSpeed:500,effect:"",links:!0,hoverPause:!0,prevText:"prev",nextText:"next",navigation:!0,showNavigationPrevNext:!0,showNavigationButtons:!0,navigationPrevNextAlwaysShown:!1,autoplay:!1}}(jQuery);